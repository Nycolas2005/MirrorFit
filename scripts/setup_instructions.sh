#!/bin/bash

echo "ğŸš€ GUIA COMPLETO - Como executar o MirrorFit"
echo "============================================="

echo ""
echo "ğŸ“‹ PASSO 1: Preparar o ambiente"
echo "--------------------------------"
echo "1. Instale o Python 3.8+ no seu computador"
echo "2. Instale o Node.js (para servidor local do frontend)"
echo "3. Crie uma pasta para o projeto:"
echo "   mkdir mirrorfit-project"
echo "   cd mirrorfit-project"

echo ""
echo "ğŸ“ PASSO 2: Organizar arquivos"
echo "------------------------------"
echo "Crie esta estrutura de pastas:"
echo ""
echo "mirrorfit-project/"
echo "â”œâ”€â”€ frontend/"
echo "â”‚   â”œâ”€â”€ index.html"
echo "â”‚   â”œâ”€â”€ styles.css"
echo "â”‚   â””â”€â”€ script.js"
echo "â””â”€â”€ backend/"
echo "    â”œâ”€â”€ manage.py"
echo "    â”œâ”€â”€ requirements.txt"
echo "    â”œâ”€â”€ mirrorfit/"
echo "    â”‚   â”œâ”€â”€ __init__.py"
echo "    â”‚   â”œâ”€â”€ settings.py"
echo "    â”‚   â”œâ”€â”€ urls.py"
echo "    â”‚   â””â”€â”€ wsgi.py"
echo "    â””â”€â”€ virtual_tryon/"
echo "        â”œâ”€â”€ __init__.py"
echo "        â”œâ”€â”€ models.py"
echo "        â”œâ”€â”€ views.py"
echo "        â”œâ”€â”€ serializers.py"
echo "        â”œâ”€â”€ urls.py"
echo "        â””â”€â”€ ai_processor.py"

echo ""
echo "ğŸ PASSO 3: Configurar Backend (Django)"
echo "---------------------------------------"
echo "cd backend"
echo "python -m venv venv"
echo ""
echo "# Ativar ambiente virtual:"
echo "# Windows:"
echo "venv\\Scripts\\activate"
echo "# Linux/Mac:"
echo "source venv/bin/activate"
echo ""
echo "# Instalar dependÃªncias:"
echo "pip install -r requirements.txt"
echo ""
echo "# Configurar banco de dados:"
echo "python manage.py makemigrations"
echo "python manage.py migrate"
echo ""
echo "# Executar servidor Django:"
echo "python manage.py runserver"

echo ""
echo "ğŸŒ PASSO 4: Executar Frontend"
echo "-----------------------------"
echo "# Em outro terminal, vÃ¡ para a pasta frontend:"
echo "cd frontend"
echo ""
echo "# OpÃ§Ã£o 1 - Python (mais simples):"
echo "python -m http.server 8080"
echo ""
echo "# OpÃ§Ã£o 2 - Node.js:"
echo "npx http-server -p 8080"
echo ""
echo "# OpÃ§Ã£o 3 - PHP:"
echo "php -S localhost:8080"

echo ""
echo "ğŸ”— PASSO 5: Acessar o sistema"
echo "-----------------------------"
echo "1. Backend Django: http://localhost:8000"
echo "2. Frontend: http://localhost:8080"
echo "3. Abra o frontend no navegador para usar o MirrorFit!"

echo ""
echo "âš ï¸  POSSÃVEIS PROBLEMAS E SOLUÃ‡Ã•ES"
echo "=================================="
echo ""
echo "âŒ Erro: 'pip nÃ£o encontrado'"
echo "âœ… SoluÃ§Ã£o: Instale o Python corretamente"
echo ""
echo "âŒ Erro: 'ModuleNotFoundError: No module named django'"
echo "âœ… SoluÃ§Ã£o: Ative o ambiente virtual e instale requirements.txt"
echo ""
echo "âŒ Erro: 'Port already in use'"
echo "âœ… SoluÃ§Ã£o: Use outra porta: python manage.py runserver 8001"
echo ""
echo "âŒ Erro: CORS (frontend nÃ£o conecta com backend)"
echo "âœ… SoluÃ§Ã£o: JÃ¡ configurado no settings.py"
echo ""
echo "âŒ Erro: 'cv2 not found'"
echo "âœ… SoluÃ§Ã£o: pip install opencv-python"

echo ""
echo "ğŸ¯ COMANDOS RÃPIDOS"
echo "==================="
echo ""
echo "# Parar servidores:"
echo "Ctrl + C (em ambos os terminais)"
echo ""
echo "# Reinstalar dependÃªncias:"
echo "pip install -r requirements.txt --force-reinstall"
echo ""
echo "# Limpar banco de dados:"
echo "rm db.sqlite3"
echo "python manage.py migrate"
echo ""
echo "# Ver logs de erro:"
echo "python manage.py runserver --verbosity=2"

echo ""
echo "âœ… PRONTO! Seu MirrorFit estÃ¡ rodando!"
